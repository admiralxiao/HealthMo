# 数据与接口（商业化相关）— iOS / Backend

更新时间：2026-01-30

---

## 1. 配置字段（Remote Config）
- flags：
  - `feature.paywall.enabled`
  - `feature.paywall.offer_B`
  - `feature.paywall.offer_C`
- params：
  - `paywall.offer_trigger.seconds = 8`
  - `paywall.offer_C.min_paywall_views_7d = 2`
- providers：
  - `paywall.offer_default = "A"`

---

## 2. Entitlement 接口（复用会员系统）
- `GET /entitlement`
- 返回：
  - is_premium
  - product_id
  - expires_at
  - offer_id（可选，便于分析）

---

## 3. Offer 决策接口（可选 v1.1）
- `GET /paywall/offer`
输入：
- user_id/device_id
- risk_level
- country/channel
输出：
- offer_id（A/B/C）
- plan_ids（weekly/yearly）
- ui_copy_overrides（可选）

> MVP 可以先不做这个接口，直接用远程配置 + 本地规则。  
> 但长期建议服务端决策，避免客户端被逆向后暴露策略。

---
